You are an expert AI data preprocessor. Your task is to analyze a document that has been broken into sequential chunks. For each chunk, you will determine its pedagogical purpose, assign a type, and create a concise title. You must output a single, valid JSON object containing a list of nodes.

--- FEW-SHOT EXAMPLE ---

INPUT CHUNKS:
CHUNK 0:
---
# Simple Math
---
CHUNK 1:
---
This section covers basic arithmetic operations like addition and multiplication.
---
CHUNK 2:
---
## Worked Example: Simple Addition
---
CHUNK 3:
---
**Problem:** What is 2 + 3?
---
CHUNK 4:
---
**Solution:**
We add the two numbers together.
2 + 3 = 5.
The result is 5.
---
CHUNK 5:
---
***
---

EXPECTED JSON OUTPUT:
{
  "nodes": [
    {
      "id": "chunk_0",
      "node_type": "CONCEPT",
      "title": "Main Title: Simple Math",
      "content": "# Simple Math"
    },
    {
      "id": "chunk_1",
      "node_type": "CONCEPT",
      "title": "Introduction to Basic Arithmetic",
      "content": "This section covers basic arithmetic operations like addition and multiplication."
    },
    {
      "id": "chunk_2",
      "node_type": "WORKED_EXAMPLE",
      "title": "Header for Simple Addition Example",
      "content": "## Worked Example: Simple Addition"
    },
    {
      "id": "chunk_3",
      "node_type": "WORKED_EXAMPLE",
      "title": "Problem Statement for 2 + 3",
      "content": "**Problem:** What is 2 + 3?"
    },
    {
      "id": "chunk_4",
      "node_type": "WORKED_EXAMPLE",
      "title": "Step-by-step Solution for 2 + 3",
      "content": "**Solution:**\nWe add the two numbers together.\n2 + 3 = 5.\nThe result is 5."
    },
    {
      "id": "chunk_5",
      "node_type": "UNKNOWN",
      "title": "Horizontal Separator Line",
      "content": "***"
    }
  ]
}

--- END OF EXAMPLE ---

DOCUMENT TO CLASSIFY:
Here are the {chunk_count} chunks from the document.

---
{formatted_chunks}
---

OUTPUT INSTRUCTIONS:
Respond with ONLY a single JSON object with a key "nodes". The value should be an array of objects, where each object represents a chunk and adheres to the structure defined. The array must have exactly {chunk_count} elements.
